<!--
  Generated template for the ListprodilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

  <!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>ClientWebservice</title>
  <base href="/">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <div class="panel-content">
      <div class="table-responsive">
          <table class="table table-striped table-hove">
              <thead>
                <tr>
                  <th scope="col">id</th>
                  <th scope="col">nom</th>
                  <th scope="col">description</th>
                  <th scope="col">prix</th>
                  <th scope="col">categorie</th>
                  <td colspan="2">Actions</td>
                </tr>
              </thead>
              <tbody>
                  <tr *ngFor="let product of products">
                    <td>{{product.id}}</td> 
                    <td>{{product.name}}</td> 
                    <td>{{product.description}}</td> 
                    <td>{{product.price}}</td> 
                    <td>{{product.category_name}}</td> 
                    <td>
                      <a (click)="editProduct(product.id)" class="btn btn-primary">Edit </a>/
                      <a data-toggle="modal" [attr.data-target]="'#deleteModal'+i" class="btn btn-danger">Delete</a>
                    </td>  
                    <div class="modal fade" [attr.id]="'deleteModal'+i" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header purple-skin">
                              <h5 class="modal-title text-white">Confirmation</h5>
                              <button type="button" [attr.id]="'closeButton'+i" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">
                              <p>Etes-vous sûr de supprimer le produit <em>{{product.name}} {{product.description}}</em>?</p>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btns mdm-btn btn-warning" (click)="deleteProduct(product.id, i)">Supprimer</button>
                              <button type="button" class="btn btns mdm-btn purple-skin" data-dismiss="modal" >Annuler</button>
                            </div>
                          </div>
                        </div>
                      </div>                           
                  </tr>
                </tbody>
            </table>
          </div> 
  </div> 
 <footer>
    <div class="container">
    <p>Copyright DSSI 2019  -  <a href="">Mentions Légales</a>  -  <a href="">CGV</a></p>
    </div>
</footer>
 
</body>
</html>
